// AUTOGENERATED FILE. Do not modify this file manually, it will be overwritten.
// finlang v0.2.6-alpha generated this file for C# `hal.ShiftManager` type.
// Source file: `LedBlinker\hal\shift\ShiftManager.cs` (relative to C# solution).
// MD5 hash of source file: afcd53135145f3cec022b8e26b4f8090.

#pragma once

#include "hal_ISpi.h"
#include <stdint.h>
#include "hal_IGpio.h"



/// <summary>
/// Allows chaining PISO and/or SIPO shift registers together to create a shift register chain.
/// </summary>
typedef struct hal_ShiftManager hal_ShiftManager;
struct hal_ShiftManager
{
    hal_ISpi * _spi;

    hal_IShiftDataFullAccess * * _data;
    uint8_t _data_count;

    /// <summary>
    /// Parallel In Serial Out (PISO) shift register shift or load pin. Causes load when it goes low.
    /// May be null if the shift register(s) does not have a shift or load pin.
    /// </summary>
    hal_IGpio * _piso_shift_or_load_pin;

    /// <summary>
    /// Serial In Parallel Out (SIPO) shift register storage pin. When this pin goes high, 
    /// the shifted in data is stored in the shift register's output latches.
    /// May be null if the shift register(s) does not have a storage pin.
    /// </summary>
    hal_IGpio * _sipo_storage_pin;
};


void hal_ShiftManager_ctor(hal_ShiftManager * self, hal_ISpi * spi, hal_IShiftDataFullAccess * * data, uint8_t data_count, hal_IGpio * piso_shift_or_load_pin, hal_IGpio * sipo_storage_pin);

void PRIVATE_hal_ShiftManager__piso_load_data(hal_ShiftManager * self);

void PRIVATE_hal_ShiftManager__sipo_latch_data(hal_ShiftManager * self);

void hal_ShiftManager_step(hal_ShiftManager * self);
