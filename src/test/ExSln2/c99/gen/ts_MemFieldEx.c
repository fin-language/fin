// AUTOGENERATED FILE. Do not modify this file manually, it will be overwritten.
// finlang generated this file for C# `ts.MemFieldEx` type.
// Source file: `LedBlinker/test_stuff/MemFieldEx.cs` (relative to C# solution).


#include "ts_MemFieldEx.h"
#include <string.h>



static int32_t calc_bike_stuff(ts_MemFieldEx_Bike * b1);



ts_MemFieldEx * ts_MemFieldEx_ctor(ts_MemFieldEx * self)
{
    memset(self, 0, sizeof(*self));
    (void)ts_MemFieldEx_Bike_ctor(&self->bike);
    self->bike.speed = 5;
    return self;
}

/// <summary>
/// mem field should decay to a pointer when passed to a function
/// https://github.com/fin-language/fin/issues/90
/// </summary>
int32_t ts_MemFieldEx_use_mem_field_as_arg(ts_MemFieldEx * self)
{
    return calc_bike_stuff(&self->bike);
}

/// <summary>
///  mem field should decay to a pointer on assignment
/// https://github.com/fin-language/fin/issues/90
/// </summary>
int32_t ts_MemFieldEx_assign_mem_field_to_ptr(ts_MemFieldEx * self)
{
    ts_MemFieldEx_Bike * temp = &self->bike;
    return calc_bike_stuff(temp);
}

static int32_t calc_bike_stuff(ts_MemFieldEx_Bike * b1)
{
    return b1->speed * 7;
}
